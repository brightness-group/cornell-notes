{{#
    @name Blog post
    @desc The blog post component that can be called in on blog rolls or index pages.
#}}

<article class="{{ class }} flex flex-col w-1/3 px-5 pb-10 ipadx:w-1/2 mobile:w-full">
    <div class="relative relative">
        <a href="{{ url }}" title="Read blog post" aria-label="Read blog post">
            <figure class="relative w-full h-64">
                {{ partial:components/picture :image="image" cover="true" lazy="true" sizes="(min-width: 768px) 30vw, 90vw" }}
            </figure>
        </a>
        <div class="post-blog-date absolute bottom-5">
            <time class="date-blog bg-primary py-2.5 px-5 text-lg font-light text-white mobile:text-base mobile:py-1.5 mobile:px-3">{{ date format_localized="%d %B %Y" }}</time>
        </div> 
        <div class="link-arrow absolute -bottom-5 right-0">
            <a href="{{ url }}" class="bg-primary inline-block"></a>
        </div>   
    </div>    
    <div class="blog-tags sm:flex lg:justify-start mobile:flex pt-7 pb-5">
        {{ tags }}
            <span class="py-3 bg-brown text-brown px-5 text-sm bg-opacity-10 font-light mr-3">{{ title }}</span>
        {{ /tags }}
    </div>
    <div class="blog-custom-detail flex flex-wrap flex-1 flex-col justify-between">
        <a class="hover:underline text-decoration-primary" href="{{ url }}" title="Read this post" aria-label="Read this post: {{ title }}">{{ partial:typography/h3 color="pb-5 text-2xl text-light-black font-medium mobile:text-xl mobile:pb-2" :content="title" }}</a>
        <div class="blog-description font-light text-lg text-light-black mobile:text-base">          
                {{ textindex = 0 }}

                {{ article }}
                    {{ if type == 'text' && textindex == 0 }}
                        {{ textindex = 1 }}
                        {{ text | truncate:105:'...'}}
                    {{ /if }}
                {{ /article }}
        </div>
    </div>    
</article>
